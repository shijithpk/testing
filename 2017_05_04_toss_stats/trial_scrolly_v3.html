<!DOCTYPE html>

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" type="text/css" href="common_v2.css">
</head>

<body>

   <div id='container'> 
  <div id='sections'>
    <div>
TEXT_1
    </div>

    <div>
TEXT_2
    </div>

    <div>
TEXT_3
    </div>

    <div>
TEXT_4      
    </div>

  </div>

  <div id='graph'>
    
  </div>

  </div>

 <div id='container2'> 
  <div id='sections2'>
    <div>
TEXT_5
    </div>

    <div>
TEXT_6
    </div>

    <div>
TEXT_7
   </div>

    <div>
TEXT_8
    </div>
 </div>

  <div id='graph2'>
    
  </div>

  </div> 


<script src="http://1wheel.github.io/graph-scroll/d3v4+jetpack.js"></script>
<script src="http://1wheel.github.io/graph-scroll/graph-scroll.js"></script>
<script>

var width = 350,
    height = 550,
    r = 40

var svg = d3.select('#graph')
  .append('svg')
    .attrs({width: width, height: height})

var circle = svg.append('circle')
    .attrs({cx: 0, cy: 0, r: r})

var colors = ['orange', 'purple', 'steelblue', 'black']
var gs = d3.graphScroll()
   .container(d3.select('#container'))
    .graph(d3.selectAll('#graph'))
    .sections(d3.selectAll('#sections > div'))
    .on('active', function(i){
      var pos = [ {cx: width - r,         cy: r},
                  {cx: r,                 cy: r},
                  {cx: width - r, cy: height - r},
                  {cx: width/2,   cy: height/2} ][i]
      
      circle.transition().duration(1000)
          .attrs(pos)
        .transition()
          .style('fill', colors[i])
    })


var svg2 = d3.select('#graph2')
  .append('svg')
    .attrs({width: width, height: height})

var path = svg2.append('path')

var gs2 = d3.graphScroll()
   .container(d3.select('#container2'))
    .graph(d3.selectAll('#graph2'))
    .sections(d3.selectAll('#sections2 > div'))
    .on('active', function(i){
      var h = height
      var w = width
      var dArray = [
        [[w/4, h/4], [w*3/4, h/4],  [w*3/4, h*3/4], [w/4, h*3/4]],
        [[0, 0],     [w*3/4, h/4],  [w*3/4, h*3/4], [w/4, h*3/4]],
        [[w/2, h/2], [w, h/4],      [w, h],         [w/4, h]],
        [[w/2, h/2], [0, h/4],      [0, h/2],         [w/4, 0]],
      ].map(function(d){ return 'M' + d.join(' L ') })


      path.transition().duration(1000)
          .attr('d', dArray[i])
          .style('fill', colors[i])
    })


</script>

</body>

</html>